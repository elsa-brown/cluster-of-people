var e={fetchPoem:()=>new Promise(((e,t)=>{const r=localStorage.getItem("poem");r?e(JSON.parse(r)):fetch("https://www.googleapis.com/blogger/v3/blogs/7016348522142105165/posts/8040682582405624765?key=AIzaSyAXjsB22TjNEYJy-HDC-bpMvIs9BOqxRi4").then((e=>{if(e.ok)return e.json();throw new Error(`BLOGGER API ${e.status} ${e.statusText}`)})).then((t=>{localStorage.setItem("poem",JSON.stringify(t)),e(t)})).catch((e=>t(e)))})),parsePoem:e=>{const{title:t,content:r,url:n}=e,o=r.trim().replace(/(\r\n|\n|\r)/gm,"").split("<br /><br /><br />"),[a,s]=o;return{title:t,content:[a.split("<br /><br />"),s],url:n.replace("http","https")}},getScreenOrientation:()=>window.matchMedia("(orientation: portrait)").matches?"portrait":"landscape"};const{errorMessage:t,fetchPoem:r,parsePoem:n,getScreenOrientation:o}=e;let a,s;const c=()=>{"portrait"===o()?(a.classList.remove("hide"),s.classList.add("hide")):(a.classList.add("hide"),s.classList.remove("hide"),window.scrollTo(0,1))},i=async()=>{a=document.querySelector(".js-portrait"),s=document.querySelector(".js-landscape"),c(),window.addEventListener("resize",c);const e=await r(),{title:t,content:o}=await n(e),[i,l]=o,d=document.querySelector("main"),p=s.querySelector("h1"),m=document.createElement("a");m.href="https://github.com/elsa-brown/cluster-of-people",m.target="_blank",m.rel="noopener noreferrer",m.innerHTML=t,p.appendChild(m);const h=document.createElement("section");h.className="text",d.appendChild(h),i.forEach((e=>{const t=document.createElement("p");t.innerHTML=e,h.appendChild(t)}));const u=document.createElement("section");u.className="images",d.appendChild(u),u.innerHTML=l,u.insertAdjacentHTML("beforeend","<br />")};"loading"===document.readyState?window.addEventListener("DOMContentLoaded",i):i();
//# sourceMappingURL=index.102b478e.js.map
